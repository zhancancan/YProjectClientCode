using pure.asset.manager;
using pure.asset.manager.utils;
using pure.ticker;
using pure.utils.debug;
using pure.utils.fileTools;
using pure.utils.memory;
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class BuffEntity : ITicker
{
    private string _prefab;
    private IEnumerator _enumerator;

    private GameObject _model;
    public void UpdateNow(long now = -1) {
        if (_enumerator != null && !_enumerator.MoveNext()) {
            _enumerator = null;
        }
    }

    public void Init(string prefab,long expireTime) {

    }

    private bool ParseFile(out string file) {
        file = string.Empty;
        if (string.IsNullOrEmpty(_prefab)) {
            return false;
        }
        if (!FileTools.TryFile2Path(_prefab, out file)) {
            GlobalLogger.LogError(string.Format("no prefab found by name {0}", _prefab));
            return false;
        }

        if (!AssetUtils.Contains(AssetType.Prefab, file)) {
            GlobalLogger.LogError(string.Format("no prefab found in AssetUtils at {0}", file));
            return false;
        }

        return true;
    }

    void Dispose() {
        GameObjectPool.ReturnInstance(_model);
    }
}
